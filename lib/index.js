'use client';
"use strict";var e=require("react"),n=function(){return n=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var u in n=arguments[t])Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u]);return e},n.apply(this,arguments)};var t="undefined"!=typeof window?e.useLayoutEffect:e.useEffect;var r="index-module_slot_wrap__ZT-DX",u="index-module_slot__DpPgW",i="index-module_numbers__sqlqm",o="index-module_num__j6XH3";!function(e,n){void 0===n&&(n={});var t=n.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],u=document.createElement("style");u.type="text/css","top"===t&&r.firstChild?r.insertBefore(u,r.firstChild):r.appendChild(u),u.styleSheet?u.styleSheet.cssText=e:u.appendChild(document.createTextNode(e))}}(".index-module_slot_wrap__ZT-DX {\n  display: inline-block;\n  white-space: nowrap;\n}\n\n.index-module_slot__DpPgW {\n  display: inline-block;\n  overflow: hidden;\n  text-align: center;\n  vertical-align: middle;\n  will-change: transform;\n}\n\n.index-module_separator__7GhtE {\n  display: inline-block;\n  vertical-align: middle;\n  text-align: center;\n}\n\n.index-module_numbers__sqlqm {\n  display: block;\n}\n\n.index-module_num__j6XH3 {\n  display: block;\n}\n\n[aria-hidden=true] {\n  user-select: none;\n}");var a=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.filter(Boolean).join(" ")},l=function(e,n){for(var t=[],r=e;r<n;r+=1)t.push(r);return t},s=function(e,n){for(var t=[],r=e;r!==n;)t.push(r),10===(r+=1)&&(r=0);return t},c=function(e,n){var t=Math.random()*(n-e);return Math.floor(t+e)},d=function(e){for(var n,t=function(e,n,t){if(t||2===arguments.length)for(var r,u=0,i=n.length;u<i;u++)!r&&u in n||(r||(r=Array.prototype.slice.call(n,0,u)),r[u]=n[u]);return e.concat(r||Array.prototype.slice.call(n))}([],e,!0),r=t.length-1;r>0;r-=1){var u=Math.floor(Math.random()*(r+1));n=[t[u],t[r]],t[r]=n[0],t[u]=n[1]}return t};var f=e.memo(e.forwardRef((function(r,l){var s,c,f=r.isNew,m=r.charClassName,v=r.numbersRef,h=r.active,p=r.isChanged,g=r.effectiveDuration,y=r.delay,b=r.duration,S=r.speed,C=r.value,A=r.startValue,E=r.disableStartValue,R=r.dummyList,_=r.hasSequentialDummyList,N=r.hasInfiniteList,x=r.valueClassName,M=r.numberSlotClassName,w=r.numberClassName,k=r.reverse,q=r.sequentialAnimationMode,D=r.useMonospaceWidth,I=r.maxNumberWidth,j=r.onFontHeightChange,O=e.useState(!1),T=O[0],L=O[1],F=e.useState(C),W=F[0],P=F[1],V=e.useRef(),B=e.useRef(C),H=e.useRef(null),X=e.useState(0),Y=X[0],z=X[1],Z=e.useState(_?R:d(R)),G=Z[0],J=Z[1],U=e.useState(!1),K=U[0],Q=U[1],$=Y*(R.length+1);t((function(){Q(!0)}),[]),t((function(){var e,n;z(null!==(n=null===(e=H.current)||void 0===e?void 0:e.getBoundingClientRect().height)&&void 0!==n?n:0)}),[K]),e.useEffect((function(){h?requestAnimationFrame((function(){L(h)})):L(h)}),[h]),e.useEffect((function(){var e=H.current;if(Y&&e&&"undefined"!=typeof ResizeObserver){var n=new ResizeObserver((function(e){var n=e[0].contentRect.height;Math.abs(Y-n)>1&&(null==j||j(n))}));return n.observe(e),function(){n.disconnect()}}}),[Y,j]),e.useMemo((function(){E&&(V.current=B.current)}),[E]),e.useEffect((function(){T&&(V.current=B.current,B.current=C,setTimeout((function(){return P(C)}),q?0:g*S*b*1e3/R.length+1e3*y))}),[T,C,g,y,R.length,q,S,b]),e.useEffect((function(){J(_?R:d(R))}),[C,R,_]),e.useImperativeHandle(l,(function(){return{refreshStyles:function(){var e,n;L(!0),z(null!==(n=null===(e=H.current)||void 0===e?void 0:e.getBoundingClientRect().height)&&void 0!==n?n:0),requestAnimationFrame((function(){L(!1)}))}}}));var ee=function(){return G.map((function(n,t){return e.createElement("span",{key:t,className:a(o,w),"aria-hidden":"true"},n)}))},ne=k?W:null!=A?A:W;q&&(ne=k?W:null!==(s=null!=A?A:V.current)&&void 0!==s?s:W,q&&f&&!k&&(ne=""));var te=k&&null!=A?A:W;return q&&(te=k&&null!==(c=null!=A?A:V.current)&&void 0!==c?c:W),e.createElement("span",{className:a(u,m),style:{display:"inline-block",width:K&&D?I:void 0,height:K?Y:void 0}},e.createElement("span",{ref:v,className:a(i,M),style:n({transition:"none",transform:k?"translateY(-".concat($,"px)"):"translateY(0px)"},T&&p&&{transform:k?"translateY(0px)":"translateY(-".concat($,"px)"),transition:"transform ".concat(g,"s ").concat(y,"s ease-in-out")})},K?e.createElement(e.Fragment,null,e.createElement("span",{className:a(o,w),"aria-hidden":"true",style:{height:Y}},ne),ee(),e.createElement("span",{className:a(o,w,x),ref:H},te),N?ee():null):e.createElement("span",{className:a(o,w),"aria-hidden":"true"},null!=A?A:W)))})));var m=e.memo(e.forwardRef((function(n,u){var i,o,d,m,v,h,p,g,y,b,S=n.value,C=n.startValue,A=n.startValueOnce,E=void 0!==A&&A,R=n.duration,_=void 0===R?.7:R,N=n.speed,x=void 0===N?1.4:N,M=n.delay,w=n.dummyCharacters,k=n.dummyCharacterCount,q=void 0===k?6:k,D=n.autoAnimationStart,I=void 0===D||D,j=n.containerClassName,O=n.charClassName,T=n.valueClassName,L=n.numberSlotClassName,F=n.numberClassName,W=n.animateUnchanged,P=void 0!==W&&W,V=n.hasInfiniteList,B=void 0!==V&&V,H=n.sequentialAnimationMode,X=void 0!==H&&H,Y=n.useMonospaceWidth,z=void 0!==Y&&Y,Z=n.direction,G=n.debounceDelay,J=n.animateOnVisible,U=n.startFromLastDigit,K=void 0!==U&&U,Q=n.onAnimationStart,$=n.onAnimationEnd,ee=function(n,t){var r=e.useState(n),u=r[0],i=r[1];return e.useEffect((function(){if(0===t)return i(n);var e=setTimeout((function(){i(n)}),t);return function(){clearTimeout(e)}}),[n,t]),u}(S,null!=G?G:0),ne=e.useMemo((function(){return function(e){return Array.isArray(e)&&function(e){return"object"==typeof e}(e[0])}(ee)?"":"object"==typeof ee?JSON.stringify(ee):ee.toString()}),[ee]),te=e.useState(!1),re=te[0],ue=te[1],ie=e.useRef(),oe=e.useRef(null),ae=e.useRef(null),le=e.useRef(C),se=e.useRef([]),ce=e.useMemo((function(){return"boolean"==typeof J?J:"object"==typeof J||void 0}),[J]),de=e.useMemo((function(){return"object"==typeof J?J.rootMargin:void 0}),[J]),fe=e.useMemo((function(){return"object"==typeof J?J.triggerOnce:void 0}),[J]),me=e.useRef(!0),ve=!ce&&I,he=e.useRef(null==C||ve?ee:C),pe=e.useRef(C),ge=e.useRef(0),ye=e.useRef(0),be=e.useState([]),Se=be[0],Ce=be[1],Ae=e.useRef(),Ee=e.useState(0),Re=Ee[0],_e=Ee[1],Ne=e.useState(),xe=Ne[0],Me=Ne[1],we=e.useRef(!1),ke=null!=C&&(!E||ge.current<1),qe=null!==(o=null===(i=ie.current)||void 0===i?void 0:i.dummyCharacterCount)&&void 0!==o?o:q,De=null!==(m=null===(d=ie.current)||void 0===d?void 0:d.duration)&&void 0!==m?m:_,Ie=e.useRef({onAnimationStart:Q,onAnimationEnd:$});Ie.current={onAnimationStart:Q,onAnimationEnd:$};var je=e.useRef(!1),Oe=e.useCallback((function(){var e=ae.current;if(e){var n=l(0,10).map((function(n){var t=document.createElement("span");t.className=null!=T?T:"",t.style.position="absolute",t.style.top="0",t.style.left="-9999px",t.style.visibility="hidden",t.textContent=n.toString(),e.appendChild(t);var r=t.getBoundingClientRect().width;return e.removeChild(t),r})),t=Math.max.apply(Math,n);Me(t)}}),[T]);t((function(){var e;Oe(),null===(e=document.fonts)||void 0===e||e.ready.then((function(){Oe()}))}),[]),e.useEffect((function(){Ce(l(0,qe*_*x-1).map((function(e){if(!w)return c(0,10);var n=e>=w.length?c(0,w.length):e;return w[n]})))}),[w,qe,x,_]),he.current!==ee&&we.current&&ye.current>0&&(pe.current=he.current,he.current=ee);var Te=Array.isArray(pe.current)?pe.current:null!==(h=null===(v=pe.current)||void 0===v?void 0:v.toString().split(""))&&void 0!==h?h:[],Le=Array.isArray(he.current)?he.current:null!==(g=null===(p=he.current)||void 0===p?void 0:p.toString().split(""))&&void 0!==g?g:[],Fe=Array.isArray(le.current)?le.current:null!==(b=null===(y=le.current)||void 0===y?void 0:y.toString().split(""))&&void 0!==b?b:[],We=e.useMemo((function(){return Array.isArray(ee)?ee:null==ee?void 0:ee.toString().split("")}),[ee]),Pe=e.useMemo((function(){return Array.isArray(C)?C:null==C?void 0:C.toString().split("")}),[C]),Ve=Te.length!==Le.length,Be=[];Le.forEach((function(e,n){var t=Le.length-n-1,r=ke?Fe:Te;(Le[t]!==r[t]||Ve||P)&&Be.push(t)})),K||Be.reverse();var He=e.useMemo((function(){return M||Math.min(.1,De/We.length)}),[De,We.length,M]),Xe=e.useCallback((function(){var e,n,t;null===(n=(e=Ie.current).onAnimationEnd)||void 0===n||n.call(e),je.current=!1,null===(t=ae.current)||void 0===t||t.removeEventListener("transitionend",Xe)}),[]),Ye=e.useCallback((function(){var e,n,t;Ae.current&&window.cancelAnimationFrame(Ae.current),je.current&&Xe(),je.current=!0,null===(e=ae.current)||void 0===e||e.addEventListener("transitionend",Xe),null===(t=(n=Ie.current).onAnimationStart)||void 0===t||t.call(n),ue(!1),ge.current=ye.current,ge.current+=1,window.requestAnimationFrame((function(){var e;null===(e=ae.current)||void 0===e||e.offsetWidth,Ae.current=requestAnimationFrame((function(){ye.current+=1,ue(!0)}))}))}),[Xe]),ze=e.useCallback((function(e){var n,t,r=ke?C:pe.current;if(null==r)return[];var u=r.toString(),i=ee.toString(),o=u[e]||"0",a=i[e]||"0";if(o===a||!/\d/.test(o)||!/\d/.test(a))return[];var l=parseInt(o,10),c=parseInt(a,10),d=l<c,f=d?s((l+1)%10,c):s((c+1)%10,l);return"bottom-up"!==(null!==(t=null===(n=ie.current)||void 0===n?void 0:n.direction)&&void 0!==t?t:Z)||d?f:f.reverse()}),[ke,ee,C,Z]),Ze=e.useCallback((function(){se.current.forEach((function(e){e.refreshStyles()})),Oe()}),[Oe]);e.useEffect((function(){(we.current||null!=pe.current)&&(we.current||null==le.current)&&(we.current||ve)&&Ye()}),[ne,Ye,ve]),e.useEffect((function(){ve&&Ye()}),[ve,Ye]),e.useEffect((function(){requestAnimationFrame((function(){we.current=!0}))}),[]),e.useImperativeHandle(u,(function(){return{startAnimation:en,refreshStyles:Ze,reload:function(){return _e((function(e){return e+1}))}}}));var Ge=null==C||ve||0!==ge.current?We:Pe||[],Je=((null==Pe?void 0:Pe.length)||0)-Ge.length,Ue=function(n){var t,r=e.useRef(n),u=e.useRef(r.current),i=n.map(String).join(","),o=null===(t=r.current)||void 0===t?void 0:t.map(String).join(",");return e.useEffect((function(){o!==i&&(u.current=(null==o?void 0:o.split(","))||[],r.current=i.split(","))}),[i,o]),{getPrevDependencies:e.useCallback((function(){return u.current}),[]),setPrevDependenciesToSameAsCurrent:e.useCallback((function(){u.current=r.current}),[])}}(Ge),Ke=Ue.getPrevDependencies,Qe=Ue.setPrevDependenciesToSameAsCurrent,$e=Ge.length-Ke().length,en=e.useCallback((function(e){null==C||E||(pe.current=void 0),ie.current=e,Ye(),Qe()}),[C,E,Ye,Qe]),nn=e.useMemo((function(){return function(e,n){var t;return function(){for(var r=[],u=0;u<arguments.length;u++)r[u]=arguments[u];clearTimeout(t),t=setTimeout((function(){e.apply(void 0,r)}),n)}}((function(){Ze()}),0)}),[Ze]);return e.useEffect((function(){if(ce&&oe.current){var e=new IntersectionObserver((function(t){t[0].isIntersecting&&me.current&&(en(),me.current=!1,fe&&(e.disconnect(),n.disconnect()))}),{rootMargin:de,threshold:1}),n=new IntersectionObserver((function(e){e[0].isIntersecting||(me.current=!0)}),{threshold:0});return e.observe(oe.current),n.observe(oe.current),function(){e.disconnect(),n.disconnect()}}}),[ce,de,fe,en]),e.createElement("span",{key:Re,ref:oe,className:a(j,r)},Ge.map((function(n,t){var r,u,i=Be.includes(t),o=(i?Be.indexOf(t):0)*He,a=pe.current,l=null!=C&&!!E&&ge.current>1,s=(null==a?void 0:a.toString()[t])||"0",c=(null==ee?void 0:ee.toString()[t])||"0",d=/\d/.test(s)&&/\d/.test(c)&&parseInt(s,10)>parseInt(c,10);return(null===(r=ie.current)||void 0===r?void 0:r.direction)&&(d="top-down"===(null===(u=ie.current)||void 0===u?void 0:u.direction)),Z&&(d="top-down"===Z),e.createElement(f,{key:Ge.length-t-1,index:t,isNew:$e>0&&t<$e,maxNumberWidth:xe,numbersRef:ae,active:re,isChanged:i,charClassName:O,effectiveDuration:De,delay:o,value:n,startValue:l||null==Pe?void 0:Pe[t+Je],disableStartValue:l,dummyList:X&&(!ve||ye.current>1)?ze(t):Se,hasSequentialDummyList:X&&(!ve||ye.current>1),hasInfiniteList:B,valueClassName:T,numberSlotClassName:L,numberClassName:F,reverse:d,sequentialAnimationMode:X,useMonospaceWidth:z,onFontHeightChange:nn,speed:x,duration:_,ref:function(e){e&&se.current.push(e)}})})))})));module.exports=m;
//# sourceMappingURL=index.js.map
